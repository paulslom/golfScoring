<ui:composition template="/auth/template.xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets" 
    xmlns:p="http://primefaces.org/ui"
    xmlns:fn="http://java.sun.com/jsp/jstl/functions"
    xmlns:c="http://java.sun.com/jsp/jstl/core">
     
    <f:metadata>
	    <f:viewAction action="#{pc_Game.onLoadGameList}" />
	</f:metadata> 
	
    <ui:define name="content">	   
	 	
	   <h:form id="gameForm">                  
			
		  <p:outputPanel id="gameInquiryPanel" style="display:block" rendered="#{pc_Game.renderInquiry}">	
		  		
		      <p:dataTable id="gamesTableID" value="#{pc_GolfMain.fullGameList}"
		          var="game" scrollable="true" scrollHeight="350"
		          selectionMode="single" selection="#{pc_Game.selectedGame}" rowKey="#{game.gameID}"
		          style="font-size:11px;">							
					
		          <f:facet name="header">
	   				  <h:outputText value="Games"/>
				  </f:facet>
				  
				  <p:ajax event="rowSelect" listener="#{pc_Game.selectRowAjax}"/>
					
				  <p:column style="width:5%" headerText="View">	
						  
				     <p:commandButton id="gameViewId"
					   	value="View"
						action="#{pc_Game.selectGameAcid}"
						update="gameForm">
						<f:param name="operation" value="View" />
  						<f:param name="id" value="#{game.gameID}" />
					 </p:commandButton>			
				   	 
                  </p:column>
                        
                  <p:column style="width:5%" headerText="Chg">	
                        		
				     <p:commandButton id="gameChgId"
					  	value="Chg"
						action="#{pc_Game.selectGameAcid}"
						update="gameForm">
						<f:param name="operation" value="Update" />
  						<f:param name="id" value="#{game.gameID}" />
					 </p:commandButton>	
					 	
                 </p:column>
                        
                 <p:column style="width:5%" headerText="Del">	
                        		
				   	 <p:commandButton id="gameDelId"
				  	    value="Del"
					    action="#{pc_Game.selectGameAcid}"
					    update="gameForm">
					    <f:param name="operation" value="Delete" />
 						<f:param name="id" value="#{game.gameID}" />
					 </p:commandButton>	
					 
                  </p:column>
                  
                  <p:column style="width:5%" headerText="Tee Times">	
                        		
				   	 <p:commandButton id="gameTeeTimesId"
				  	    value="Tee Times"
					    action="#{pc_Game.selectGameAcid}"
					    update="gameForm">
					    <f:param name="operation" value="TeeTimes" />
 						<f:param name="id" value="#{game.gameID}" />
					 </p:commandButton>	
					 
                  </p:column>	                          
	              
	              <p:column style="width:5%" headerText="Scores">	
		             <p:commandButton id="scoresButtonID"
		               value="Scores"
		               action="#{pc_Game.selectGameAcid}"
					   update="gameForm">
					   <f:param name="operation" value="Scores" />
	 				   <f:param name="id" value="#{game.gameID}" />
				     </p:commandButton> 
				  </p:column>
				  
	              <p:column style="width:5%" headerText="Run">	
		             <p:commandButton id="runGameButtonID"
		               value="Run Game"
		               action="#{pc_Game.selectGameAcid}"
					   update="gameForm">
					   <f:param name="operation" value="RunGame" />
	 				   <f:param name="id" value="#{game.gameID}" />
				     </p:commandButton> 
				  </p:column>
				                 		
				  <p:column style="width:9%" headerText="ID" sortBy="#{game.gameID}">												
					  <h:outputText value="#{game.gameID}"/>														
				  </p:column>
				  
				  <p:column style="width:9%" headerText="Date" sortBy="#{game.gameDate}">												
					  <h:outputText value="#{game.gameDateDisplay}">
					     <f:convertDateTime type="date" pattern="EEEE yyyy-MM-dd"/>
					  </h:outputText>														
				  </p:column>
				  
				  <p:column style="width:9%" headerText="Course" sortBy="#{game.courseName}">												
					  <h:outputText value="#{game.courseName}"/>														
				  </p:column>
				  
				  <p:column style="width:4%" headerText="Bet Amt" sortBy="#{game.betAmount}">												
					  <h:outputText value="#{game.betAmount}">
					    <f:convertNumber currencySymbol="$" type="currency" maxFractionDigits="2" />
					  </h:outputText>   														
				  </p:column>
				  
				  <p:column style="width:4%" headerText="Field Size" sortBy="#{game.fieldSize}">												
					  <h:outputText value="#{game.fieldSize}">					    
					  </h:outputText>   														
				  </p:column>
				  
				  <p:column style="width:4%" headerText="Total Players" sortBy="#{game.totalPlayers}">												
					  <h:outputText value="#{game.totalPlayers}">					    
					  </h:outputText>   														
				  </p:column>
				  
				  <p:column style="width:4%" headerText="Total Teams" sortBy="#{game.totalTeams}">												
					  <h:outputText value="#{game.totalTeams}">					     
					  </h:outputText>   														
				  </p:column>
				  
				  <p:column style="width:4%" headerText="Total Team Balls" sortBy="#{game.howManyBalls}">												
					  <h:outputText value="#{game.howManyBalls}">					    
					  </h:outputText>   														
				  </p:column>
				  
				  <p:column style="width:4%" headerText="Team Ball Value" sortBy="#{game.eachBallWorth}">												
					  <h:outputText value="#{game.eachBallWorth}">
					     <f:convertNumber currencySymbol="$" type="currency" maxFractionDigits="2" />
					  </h:outputText>   														
				  </p:column>
				  
				  <p:column style="width:4%" headerText="Team Pot" sortBy="#{game.teamPot}">												
					  <h:outputText value="#{game.teamPot}">
					     <f:convertNumber currencySymbol="$" type="currency" maxFractionDigits="2" />
					  </h:outputText>   														
				  </p:column>
				  
				  <p:column style="width:4%" headerText="Skins Pot" sortBy="#{game.skinsPot}">												
					  <h:outputText value="#{game.skinsPot}">
					     <f:convertNumber currencySymbol="$" type="currency" maxFractionDigits="2" />
					  </h:outputText>   														
				  </p:column>
				  
				  <p:column style="width:4%" headerText="Game Fee" sortBy="#{game.gameFee}">												
					  <h:outputText value="#{game.gameFee}">
					     <f:convertNumber currencySymbol="$" type="currency" maxFractionDigits="2" />
					  </h:outputText>   														
				  </p:column>
				  
				  <p:column style="width:4%" headerText="Purse Amt" sortBy="#{game.purseAmount}">												
					  <h:outputText value="#{game.purseAmount}">
					    <f:convertNumber currencySymbol="$" type="currency" maxFractionDigits="2" />
					  </h:outputText>   														
				  </p:column>
				  
				  <p:column style="width:4%" headerText="Indiv Grs" sortBy="#{game.individualGrossPrize}">												
					  <h:outputText value="#{game.individualGrossPrize}">
					     <f:convertNumber currencySymbol="$" type="currency" maxFractionDigits="2" />
					  </h:outputText>   														
				  </p:column>
				  
				  <p:column style="width:4%" headerText="Indiv Net" sortBy="#{game.individualNetPrize}">												
					  <h:outputText value="#{game.individualNetPrize}">
					     <f:convertNumber currencySymbol="$" type="currency" maxFractionDigits="2" />
					  </h:outputText>   														
				  </p:column>
			  
			  </p:dataTable>
				 	
		      <p:messages id="facesMessages" showDetail="false">
		      </p:messages>   
			
			  <p:commandButton id="gameAddId"
				  value="#{bundle.add}"
				  action="#{pc_Game.selectGameAcid}"
				  update="gameForm">
				  <f:param name="operation" value="Add" />
			  </p:commandButton>		  
			  
		   </p:outputPanel>
		   
		   <p:outputPanel id="gameUpdatePanel" style="display:block" rendered="#{pc_Game.renderAddUpdateDelete}">
						
			  <ui:include src="/auth/admin/gameAddUpdateDelete.xhtml"/>		
		       
		   </p:outputPanel>
					
		</h:form> 	
		
	</ui:define>
	
</ui:composition>	
